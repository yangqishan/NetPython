<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>vue</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="js/vue.js" type="text/javascript"></script>
    <link href="css/layui.css" type="text/css" rel="stylesheet">

</head>
<BODY>

<center style="padding-top: 40px">
    <a style="font-size: 70px;font-weight: 500"><p><strong><span style="font-size: large"><span style="color: #ff0000">【下载地址】</span></span></strong></p></a>
    <div style="width: 80%;padding-top: 20px">
        <!--以下为两个必须div元素-->


        <div >


            <table id="table" class="layui-table">
                <input type="submit" value="删除" id="dels">
                <thead>
                <tr>
                    <th  width="5%">
                     <input id="delAll" type="checkbox" />全选
                    </th>
                    <th width="13%">
                        编号
                    </th>
                    <th width="13%">
                        名字
                    </th>
                    <th width="13%">
                        下载链接
                    </th>
                    <th width="13%">
                        操作
                    </th>
                </tr>
                </thead>
                <tbody id="x-img">
                    <tr v-html="trThml">

                    </tr>

                    <tr v-for="(movie,index) of movies">
                        <td> <input v-bind:id="'checked'+index" type="checkbox"></td>
                        <td> {{index+1}}</td>
                        <td >{{movie.name}}</td>
                        <td> <a style="text-decoration: none;color: blue" v-bind:href="movie.href" >{{movie.content}}</a></td>
                        <td> <a href="#"  v-on:click="find(movie,index)">编辑</a>  <a href="#" onclick="del(this)">删除</a> </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


</center>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">


    $(document).ready(function() {
        $.ajax({
            url:"get",
            type:"post",
            dataType:"json",
            data:{
                name:"斗罗大陆"
            },
            success:function (data) {
                //任何需要执行的js特效
                console.log(data)
                app.movies=data.data;
                for(var i=0;i<app.movies.length;i++){
                    app.sum+=app.movies[i].id
                }
            }

        });


    });


    var app=new Vue({
        el:'#table',
        data:{
            msg:'vue very good',
            movies:[],
            trThml:'',
            sum:0
        },
        methods:{
            find:function (event,id) {

            }

        }
    })
   function edit(obj) {

       var name=$(obj).parents("tr").find("td").eq(1).text()
       $(obj).parents("tr").find("td").eq(1).html('<input value="'+name+'"/>')
   }

   function del(obj) {
       $(obj).parents("tr").remove()
   }
    //全选多选框
    $("#delAll").click(function () {
        var flag=false;
        if($("#delAll").is(":checked")){
            flag=true;
        }
        for(var i=0;i<100;i++){
            $("#checked"+i).prop("checked",flag);
        }
    })
    //删除全部
    $("#dels").click(function () {
        for(var i=0;i<100;i++){
            if($("#checked"+i).is(":checked")){
                $("#checked"+i).parents("tr").remove();
            }
        }
    })
</script>

</body>
</html>
